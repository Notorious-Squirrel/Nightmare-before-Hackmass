<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jack's Back, Christmas Attack</title>
<meta name="description" content="Ghoststrats-style CTF stage gateway — festive North Pole edition." />

<style>
  :root{
    --glass: rgba(255,255,255,0.12);
    --glass-strong: rgba(255,255,255,0.22);
    --text: #eaf7ff;
    --accent: #00f0c8;   /* frosty neon */
    --accent2: #b15cff;  /* cyber purple */
  }

  /* --- Background --- */
  body{
    margin:0;
    min-height:100dvh;
    color:var(--text);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
    line-height:1.25;
    background:
      radial-gradient(1200px 800px at 50% 20%, rgba(0,0,0,0.35), rgba(0,0,0,0.85)),
      url("Background.jpeg) center/cover fixed no-repeat;
    overflow-x:hidden;
  }

  /* faint snowfall */
  .snow, .snow:before, .snow:after{
    position:fixed; inset:0; pointer-events:none; content:"";
    background-image:
      radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.7) 50%, transparent 52%),
      radial-gradient(2px 2px at 80% 20%, rgba(255,255,255,.6) 50%, transparent 52%),
      radial-gradient(3px 3px at 50% 80%, rgba(255,255,255,.8) 50%, transparent 52%),
      radial-gradient(1.5px 1.5px at 70% 60%, rgba(255,255,255,.5) 50%, transparent 52%),
      radial-gradient(2px 2px at 30% 70%, rgba(255,255,255,.55) 50%, transparent 52%);
    animation: snow 22s linear infinite;
  }
  .snow:before{ animation-duration: 32s; opacity:.6; }
  .snow:after { animation-duration: 45s; opacity:.35; }
  @keyframes snow{
    from{ background-position: 0 -100vh, 0 -100vh, 0 -100vh, 0 -100vh, 0 -100vh; }
    to  { background-position: 0 100vh,  0  80vh,  0 120vh, 0  90vh,  0 140vh; }
  }

  /* --- Layout --- */
  .wrap{
    display:grid;
    grid-template-columns: minmax(0, 1100px);
    justify-content:center;
    padding: clamp(16px, 3vw, 32px);
    gap: 18px;
  }

  /* Candy-cane border (titles & panels) */
  .candy{
    border: 10px solid transparent;
    border-image: repeating-linear-gradient(45deg, #ff0022 0 12px, #ffffff 12px 24px) 12;
    border-radius: 18px;
    background: linear-gradient( to bottom right, var(--glass-strong), rgba(0,0,0,.25) );
    backdrop-filter: blur(8px) saturate(140%);
    -webkit-backdrop-filter: blur(8px) saturate(140%);
    box-shadow: 0 10px 30px rgba(0,0,0,.4), 0 0 40px rgba(177,92,255,.25) inset;
  }

  /* Title */
  .title{
    text-align:center;
    padding: clamp(14px, 3.5vw, 26px);
  }
  .title h1{
    margin:0;
    font-size: clamp(28px, 5vw, 52px);
    letter-spacing: .02em;
    text-shadow: 0 0 16px rgba(0, 240, 200, .55), 0 0 32px rgba(177,92,255,.45);
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    -webkit-background-clip:text;
    background-clip:text;
    color: transparent;
  }
  .subtitle{
    margin-top:8px;
    color:#d6ffee;
    opacity:.9;
    font-size: clamp(14px, 2.4vw, 18px);
  }

  /* Stage grid */
  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap:18px;
  }

  .stage{
    padding:18px;
    position:relative;
    overflow:hidden;
  }
  .stage h2{
    margin:0 0 10px 0;
    font-size:22px;
    text-shadow: 0 0 12px rgba(0,240,200,.4);
  }
  .stage p{
    margin:0 0 12px 0;
    opacity:.9;
    font-size:14px;
  }

  /* Inputs */
  .codebar{
    display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  }
  .codebar input{
    flex:1 1 180px;
    padding:12px 14px;
    font-size:16px;
    border-radius:12px;
    border:2px solid transparent;
    outline:none;
    color:#101317;
    background:
      linear-gradient(#fff, #f2f7ff) padding-box,
      repeating-linear-gradient(45deg, #ff0022 0 10px, #ffffff 10px 20px) border-box;
  }
  .codebar button{
    flex:0 0 auto;
    padding:12px 16px;
    border:none;
    border-radius:12px;
    font-weight:700;
    cursor:pointer;
    color:#071013;
    background: linear-gradient(90deg, var(--accent), var(--accent2));
    box-shadow: 0 8px 20px rgba(0,0,0,.35);
    transition: transform .06s ease;
  }
  .codebar button:active{ transform: translateY(1px) scale(.99); }

  .msg{
    margin-top:10px; min-height:1.2em; font-weight:700;
    text-shadow: 0 0 10px rgba(0,0,0,.35);
  }
  .msg.ok{ color:#9fffe2; }
  .msg.err{ color:#ffb3c0; }

  /* Footer note */
  .note{
    text-align:center; opacity:.8; font-size:12px; padding:8px 12px 20px;
  }

  /* Subtle corner sparkle */
  .stage:after{
    content:"";
    position:absolute; inset:auto -30px -30px auto; width:140px; height:140px;
    background: radial-gradient(60px 60px at 70% 70%, rgba(0,240,200,.28), transparent 55%),
                radial-gradient(50px 50px at 30% 30%, rgba(177,92,255,.22), transparent 60%);
    transform: rotate(12deg);
    filter: blur(2px);
  }
</style>
</head>
<body>
<div class="snow"></div>

<main class="wrap">

  <!-- Title card -->
  <header class="title candy" role="banner" aria-label="Jack's Back, Christmas Attack">
    <h1>Jack’s Back, Christmas Attack</h1>
    <div class="subtitle">Enter the stage access codes to breach North Pole HQ. Candy-cane security won’t know what hit it.</div>
  </header>

  <!-- Stages -->
  <section class="grid" aria-label="Stage Access Grid">
    <!--
      HOW TO CONFIGURE:
      - Set data-code="YourExactCode" (case sensitive) for each stage.
      - Optional: set data-url="nextpage.html" to redirect on success.
      - Leave data-url blank to just show a success message.
    -->

    <article class="stage candy" data-stage="1" data-code="Flag{S1-EXAMPLE}" data-url="">
      <h2>Stage 1 — Frostbyte Recon</h2>
      <p>Scrape the candy-cane turnstiles for stray creds. When you’ve got the flag, enter it here.</p>
      <div class="codebar">
        <input type="text" inputmode="latin" spellcheck="false" autocomplete="off" placeholder="Enter Stage 1 code…">
        <button onclick="check(this)">Unlock</button>
      </div>
      <div class="msg" aria-live="polite"></div>
    </article>

    <article class="stage candy" data-stage="2" data-code="Flag{S2-EXAMPLE}" data-url="">
      <h2>Stage 2 — Sleigh Stack Overflow</h2>
      <p>Patch the flight deck telemetry. Submit your recovered key to advance.</p>
      <div class="codebar">
        <input type="text" placeholder="Enter Stage 2 code…" autocomplete="off" spellcheck="false">
        <button onclick="check(this)">Unlock</button>
      </div>
      <div class="msg" aria-live="polite"></div>
    </article>

    <article class="stage candy" data-stage="3" data-code="Flag{S3-EXAMPLE}" data-url="">
      <h2>Stage 3 — Elf Control</h2>
      <p>Pivot through Elf Control. The door opens only to the true string.</p>
      <div class="codebar">
        <input type="text" placeholder="Enter Stage 3 code…" autocomplete="off" spellcheck="false">
        <button onclick="check(this)">Unlock</button>
      </div>
      <div class="msg" aria-live="polite"></div>
    </article>

    <article class="stage candy" data-stage="4" data-code="Flag{S4-EXAMPLE}" data-url="">
      <h2>Stage 4 — Candy Cane Cipher</h2>
      <p>Unwrap the stripes to reveal the secret. Paste the exact flag.</p>
      <div class="codebar">
        <input type="text" placeholder="Enter Stage 4 code…" autocomplete="off" spellcheck="false">
        <button onclick="check(this)">Unlock</button>
      </div>
      <div class="msg" aria-live="polite"></div>
    </article>

    <article class="stage candy" data-stage="5" data-code="Flag{S5-OMEGA}" data-url="Nexus5.html">
      <h2>Final — Jack’s Backdoor</h2>
      <p>All roads lead to Santa’s mainframe. Enter the ultimate flag to breach the Workshop.</p>
      <div class="codebar">
        <input type="text" placeholder="Enter Final code…" autocomplete="off" spellcheck="false">
        <button onclick="check(this)">Unlock</button>
      </div>
      <div class="msg" aria-live="polite"></div>
    </article>
  </section>

  <p class="note">Tip: Codes are case-sensitive. If a redirect is configured for a stage, you’ll jump there on success.</p>
</main>

<script>
  /* Basic inline validator. Compares input to data-code. If data-url is set, redirect on success. */
  function check(btn){
    const card = btn.closest('.stage');
    const input = card.querySelector('input');
    const msg = card.querySelector('.msg');
    const want = (card.dataset.code || '').trim();
    const got  = (input.value || '').trim();

    if(!got){ msg.textContent = "Enter a code first."; msg.className = "msg err"; input.focus(); return; }

    if(got === want){
      msg.textContent = "✅ Access granted. Ho-ho-hold tight…";
      msg.className = "msg ok";
      // simple confetti sparkle (non-blocking)
      sparkle(card);
      const url = (card.dataset.url || '').trim();
      if(url){ setTimeout(()=> location.href = url, 700); }
    }else{
      msg.textContent = "❌ Nope. That candy cane bends a different way.";
      msg.className = "msg err";
      input.focus();
    }
  }

  /* Tiny sparkle burst */
  function sparkle(node){
    const s = document.createElement('span');
    s.style.position='absolute';
    s.style.left='50%'; s.style.top='12px';
    s.style.width='8px'; s.style.height='8px';
    s.style.borderRadius='50%';
    s.style.boxShadow='0 0 12px #00f0c8, 0 0 24px #b15cff, 16px 8px 0 0 rgba(255,255,255,.9), -12px -6px 0 0 rgba(255,255,255,.6)';
    s.style.filter='blur(.2px)';
    node.appendChild(s);
    setTimeout(()=> s.remove(), 600);
  }

  /* Accessibility: submit with Enter */
  document.addEventListener('keydown', e=>{
    if(e.key === 'Enter' && e.target.matches('.codebar input')){
      const btn = e.target.closest('.codebar').querySelector('button');
      btn && btn.click();
    }
  });
</script>
</body>
</html>
